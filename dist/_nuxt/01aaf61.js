(window.webpackJsonp=window.webpackJsonp||[]).push([[29,7],{636:function(e,t,r){"use strict";r.r(t);var n=r(173),o=r(273),l=r(33),c=r(619),d=r(271),_=r(212),f=r(218),m=r(172),v=r(268),y=r(66),h=r(616),k=r(6),x=(r(50),r(25),{props:{end_point:String,delete_data:Object,dialog:Boolean,title:String},data:function(){return{}},methods:{destroy:function(){var e=this;return Object(k.a)(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e.$axios.$delete("".concat(e.end_point,"/").concat(e.delete_data.id)).then((function(t){e.$emit("confirmDelete",t),e.$emit("closeModal")}));case 2:t.sent;case 3:case"end":return t.stop()}}),t)})))()}}}),w=r(47),component=Object(w.a)(x,(function(){var e=this,t=e._self._c;return t("div",{staticClass:"text-center"},[t(c.a,{attrs:{width:e.$vuetify.breakpoint.xs?"90vw":"20vw",persistent:""},model:{value:e.dialog,callback:function(t){e.dialog=t},expression:"dialog"}},[t(o.a,[t(l.d,{staticClass:"d-flex justify-space-between text-h5 primary white--text"},[e._v("\n        "+e._s(e.title)+"\n        "),t(_.a,{attrs:{color:"white"},on:{click:function(t){return e.$emit("closeModal")}}},[e._v("mdi-close")])],1),e._v(" "),t(l.c,[t(m.a,{attrs:{"three-line":""}},[t(y.a,[e._v("\n            Are you sure you want to delete this data?\n          ")]),e._v(" "),t(v.a,{attrs:{tile:"",size:"100"}},[t(f.a,{attrs:{src:"trash.png"}})],1)],1)],1),e._v(" "),t(d.a),e._v(" "),t(l.a,[t(h.a),e._v(" "),t(n.a,{attrs:{color:"primary"},on:{click:function(t){return e.destroy()}}},[t(_.a,{staticClass:"mr-1",attrs:{small:""}},[e._v(" mdi-delete")]),e._v("\n          Delete\n        ")],1)],1)],1)],1)],1)}),[],!1,null,"7c4fea62",null);t.default=component.exports},701:function(e,t,r){"use strict";r.r(t);var n=r(151),o=r(173),l=r(273),c=r(33),d=r(621),_=r(689),f=r(271),m=r(212),v=r(274),y=r(620),h=r(46),k=r(664),x=r(616),w=r(75),T=r(622),$=(r(30),r(318),r(19),r(8),r(65),r(27),r(10),r(4),{middleware:"admin",components:{DeleteTransaction:r(636).default},data:function(){return{delete_transaction_dialog:!1,delete_data:{id:null},transfer_type:["Donation","Relocate","Others"],items:[],condition:["New","Used","Damaged"],form:{item_data:[],transfer_type_others:null},search:"",headers:[{text:"Info",align:"start",sortable:!1,value:"info"},{text:"Transaction Date",value:"created_at"},{text:"PTR Number",value:"transaction_no"},{text:"Property Count",value:"property_count"},{text:"Transfer Type",value:"transfer_type"},{text:"Received Type",value:"received_by"},{text:"Received From",value:"received_from"},{text:"Approved By",value:"approved_by"},{text:"Status",value:"condition"},{text:"Actions",value:"actions"}],transactions:[]}},methods:{confirmDelete:function(){this.$toast.success("Transfer with ID ".concat(this.delete_data.id," has been deleted successfully.")),this.getTransactions()},destroyTransaction:function(e){this.delete_data.id=e,this.delete_transaction_dialog=!0},onSubmit:function(){var e=this;this.$store.dispatch("postTransferProperty",this.form).then((function(t){e.$toast.success("Transfer Property with ".concat(t.data.transaction_no," Transaction No. has been added successfully.")),e.$refs.observer.reset(),e.form={item_data:[],transfer_type_others:null},e.getTransactions(),e.$store.dispatch("getItemList"),e.$store.dispatch("getItems"),e.items=e.$store.state.items.items.data.filter((function(e){return null==e.transaction_status}))})).catch((function(t){e.$toast.error(t)}))},getTransactions:function(){var e=this;this.$store.dispatch("getTransactions").then((function(t){console.log(t,"resutls"),e.transactions=t}))}},mounted:function(){this.getTransactions(),this.items=this.$store.state.items.items.data.filter((function(e){return null==e.transaction_status&&"Non-Consumable"==e.type}))}}),P=r(47),component=Object(P.a)($,(function(){var e=this,t=e._self._c;return t(y.a,{staticClass:"container fluid"},[t(d.a,{attrs:{cols:"12",lg:"8",md:"12",sm:"12",xs:"12"}},[t(l.a,[t(c.d,[e._v("\n        Transaction List\n        "),t(x.a),e._v(" "),t(w.a,{attrs:{"append-icon":"mdi-magnify",label:"Search","single-line":"","hide-details":""},model:{value:e.search,callback:function(t){e.search=t},expression:"search"}})],1),e._v(" "),t(_.a,{attrs:{headers:e.headers,items:e.transactions,search:e.search},scopedSlots:e._u([{key:"item.created_at",fn:function(r){var n=r.item;return[t("p",[e._v(e._s(n.created_at.split("T")[0]))])]}},{key:"item.property_count",fn:function(r){var n=r.item;return[t("p",[e._v(e._s(n.item_data.length))])]}},{key:"item.actions",fn:function(r){var n=r.item;return[t(m.a,{on:{click:function(t){e.destroyTransaction(Number(n.id))}}},[e._v("mdi-delete")])]}},{key:"item.info",fn:function(r){var n=r.item;return[t(v.a,{attrs:{"close-on-content-click":!1,"open-on-hover":"","nudge-width":200,"offset-y":"",bottom:""},scopedSlots:e._u([{key:"activator",fn:function(r){var n=r.on,o=r.attrs;return[t("span",e._g(e._b({},"span",o,!1),n),[t(m.a,{staticStyle:{cursor:"pointer"},attrs:{color:"primary"}},[e._v("mdi-information")])],1)]}}],null,!0)},[e._v(" "),t(l.a,{attrs:{flat:""}},[t(k.a,{attrs:{dense:""},scopedSlots:e._u([{key:"default",fn:function(){return[t("h2",{staticClass:"mx-3 my-3"},[e._v("Property List:")]),e._v(" "),t("divider"),e._v(" "),e._l(n.item_data,(function(r,n){return t("tbody",{key:n},[t("th",[e._v("Number")]),e._v(" "),t("th",[e._v("Name")]),e._v(" "),t("th",[e._v("Code")]),e._v(" "),t("th",[e._v("Description")]),e._v(" "),t("th",[e._v("SN")]),e._v(" "),t("th",[e._v("Cost")]),e._v(" "),t("th",[e._v("Date Acquired")]),e._v(" "),t("th",[e._v("Date Received")]),e._v(" "),t("th",[e._v("Type")]),e._v(" "),t("th",[e._v("Purchaser")]),e._v(" "),t("tr",[t("td",[e._v(e._s(n+1))]),e._v(" "),t("td",[e._v(e._s(r.property_name))]),e._v(" "),t("td",[e._v(e._s(r.property_code))]),e._v(" "),t("td",[e._v(e._s(r.description))]),e._v(" "),t("td",[e._v(e._s(r.serial_number))]),e._v(" "),t("td",[e._v(e._s(r.cost))]),e._v(" "),t("td",[e._v(e._s(r.date_acquired))]),e._v(" "),t("td",[e._v(e._s(r.date_received))]),e._v(" "),t("td",[e._v(e._s(r.type))]),e._v(" "),t("td",[e._v(e._s(r.purchaser))])]),e._v(" "),t(f.a)],1)}))]},proxy:!0}],null,!0)})],1)],1)]}}],null,!0)})],1)],1),e._v(" "),t(d.a,{attrs:{cols:"12",lg:"4",md:"12",sm:"12",xs:"12"}},[t(l.a,{staticClass:"pa-3"},[t("ValidationObserver",{ref:"observer",scopedSlots:e._u([{key:"default",fn:function(r){var l=r.valid,c=r.invalid;return[t("form",{staticClass:"d-flex flex-column",on:{submit:function(t){return t.preventDefault(),e.onSubmit.apply(null,arguments)}}},[t("ValidationProvider",{attrs:{rules:"required",name:"Property List"},scopedSlots:e._u([{key:"default",fn:function(r){var o=r.errors;return[t(n.a,{attrs:{items:e.items,dense:"",chips:"","small-chips":"",label:"Property List",multiple:"",solo:"","item-text":"property_code","return-object":"",name:"item_data","error-messages":o,success:l},scopedSlots:e._u([{key:"item",fn:function(data){return[t(w.a,{attrs:{readonly:"",label:"Date Acquired","hide-details":"auto",value:data.item.date_acquired}}),e._v(" "),t(w.a,{attrs:{readonly:"",label:"Property Code","hide-details":"auto",value:data.item.property_code}}),e._v(" "),t(w.a,{attrs:{readonly:"",label:"Description","hide-details":"auto",value:data.item.description}}),e._v(" "),t(w.a,{attrs:{readonly:"",label:"Amount","hide-details":"auto",value:data.item.cost}}),e._v(" "),t(w.a,{attrs:{readonly:"",label:"Category","hide-details":"auto",value:data.item.item_category_info.name}}),e._v(" "),t(w.a,{attrs:{readonly:"",label:"Purchaser","hide-details":"auto",value:data.item.purchaser}})]}}],null,!0),model:{value:e.form.item_data,callback:function(t){e.$set(e.form,"item_data",t)},expression:"form.item_data"}})]}}],null,!0)}),e._v(" "),t("ValidationProvider",{attrs:{rules:"required",name:"Transaction No."},scopedSlots:e._u([{key:"default",fn:function(r){var n=r.errors;return[t(w.a,{attrs:{label:"Transaction No.","hide-details":"auto",name:"transaction_no","error-messages":n,success:l},model:{value:e.form.transaction_no,callback:function(t){e.$set(e.form,"transaction_no",t)},expression:"form.transaction_no"}})]}}],null,!0)}),e._v(" "),t("p",{staticClass:"font-weight-black mt-5"},[e._v("I. Transfer Information")]),e._v(" "),t("ValidationProvider",{attrs:{rules:"required",name:"Condition of PPE"},scopedSlots:e._u([{key:"default",fn:function(r){var n=r.errors;return[t(h.a,{attrs:{items:e.condition,label:"Condition of PPE",name:"condition","error-messages":n,success:l},model:{value:e.form.condition,callback:function(t){e.$set(e.form,"condition",t)},expression:"form.condition"}})]}}],null,!0)}),e._v(" "),t("ValidationProvider",{attrs:{rules:"required",name:"Transfer Type"},scopedSlots:e._u([{key:"default",fn:function(r){var n=r.errors;return[t(h.a,{attrs:{items:e.transfer_type,label:"Transfer Type",dense:"",name:"transfer_type","error-messages":n,success:l},model:{value:e.form.transfer_type,callback:function(t){e.$set(e.form,"transfer_type",t)},expression:"form.transfer_type"}})]}}],null,!0)}),e._v(" "),"Others"===e.form.transfer_type?t(w.a,{attrs:{label:"Transfer Type (Others)","hide-details":"auto"},model:{value:e.form.transfer_type_others,callback:function(t){e.$set(e.form,"transfer_type_others",t)},expression:"form.transfer_type_others"}}):e._e(),e._v(" "),t("ValidationProvider",{attrs:{rules:"required",name:"Reason for Transfer"},scopedSlots:e._u([{key:"default",fn:function(r){var n=r.errors;return[t(T.a,{attrs:{name:"reason_for_transfer",label:"Reason for Transfer",rows:"2","error-messages":n,success:l},model:{value:e.form.reason_for_transfer,callback:function(t){e.$set(e.form,"reason_for_transfer",t)},expression:"form.reason_for_transfer"}})]}}],null,!0)}),e._v(" "),t("p",{staticClass:"font-weight-black"},[e._v("II. Borrower's Information")]),e._v(" "),t("ValidationProvider",{attrs:{rules:"required",name:"Received By"},scopedSlots:e._u([{key:"default",fn:function(r){var n=r.errors;return[t(w.a,{attrs:{label:"Received by","hide-details":"auto",name:"received_by","error-messages":n,success:l},model:{value:e.form.received_by,callback:function(t){e.$set(e.form,"received_by",t)},expression:"form.received_by"}})]}}],null,!0)}),e._v(" "),t("ValidationProvider",{attrs:{rules:"required",name:"Borrower Designation"},scopedSlots:e._u([{key:"default",fn:function(r){var n=r.errors;return[t(w.a,{attrs:{label:"Designation","hide-details":"auto",name:"borrower_designation","error-messages":n,success:l},model:{value:e.form.borrower_designation,callback:function(t){e.$set(e.form,"borrower_designation",t)},expression:"form.borrower_designation"}})]}}],null,!0)}),e._v(" "),t("ValidationProvider",{attrs:{rules:"required",name:"Borrower Agency"},scopedSlots:e._u([{key:"default",fn:function(r){var n=r.errors;return[t(w.a,{attrs:{label:"Agency","hide-details":"auto",name:"borrower_agency","error-messages":n,success:l},model:{value:e.form.borrower_agency,callback:function(t){e.$set(e.form,"borrower_agency",t)},expression:"form.borrower_agency"}})]}}],null,!0)}),e._v(" "),t("p",{staticClass:"font-weight-black mt-5"},[e._v("III. Lender's Information")]),e._v(" "),t("ValidationProvider",{attrs:{rules:"required",name:"Received from"},scopedSlots:e._u([{key:"default",fn:function(r){var n=r.errors;return[t(w.a,{attrs:{label:"Received From","hide-details":"auto",name:"received_from","error-messages":n,success:l},model:{value:e.form.received_from,callback:function(t){e.$set(e.form,"received_from",t)},expression:"form.received_from"}})]}}],null,!0)}),e._v(" "),t("ValidationProvider",{attrs:{rules:"required",name:"Lender Designation"},scopedSlots:e._u([{key:"default",fn:function(r){var n=r.errors;return[t(w.a,{attrs:{label:"Designation","hide-details":"auto",name:"received_from","error-messages":n,success:l},model:{value:e.form.lender_designation,callback:function(t){e.$set(e.form,"lender_designation",t)},expression:"form.lender_designation"}})]}}],null,!0)}),e._v(" "),t("ValidationProvider",{attrs:{rules:"required",name:"Lender Agency"},scopedSlots:e._u([{key:"default",fn:function(r){var n=r.errors;return[t(w.a,{attrs:{label:"Agency","hide-details":"auto",name:"lender_agency","error-messages":n,success:l},model:{value:e.form.lender_agency,callback:function(t){e.$set(e.form,"lender_agency",t)},expression:"form.lender_agency"}})]}}],null,!0)}),e._v(" "),t("p",{staticClass:"font-weight-black mt-5"},[e._v("IV. Approver's Information")]),e._v(" "),t("ValidationProvider",{attrs:{rules:"required",name:"Approved by"},scopedSlots:e._u([{key:"default",fn:function(r){var n=r.errors;return[t(w.a,{attrs:{label:"Approved by","hide-details":"auto",name:"approved_by","error-messages":n,success:l},model:{value:e.form.approved_by,callback:function(t){e.$set(e.form,"approved_by",t)},expression:"form.approved_by"}})]}}],null,!0)}),e._v(" "),t("ValidationProvider",{attrs:{rules:"required",name:"Designation"},scopedSlots:e._u([{key:"default",fn:function(r){var n=r.errors;return[t(w.a,{attrs:{label:"Designation","hide-details":"auto",name:"approver_designation","error-messages":n,success:l},model:{value:e.form.approver_designation,callback:function(t){e.$set(e.form,"approver_designation",t)},expression:"form.approver_designation"}})]}}],null,!0)}),e._v(" "),t("div",{staticClass:"d-flex justify-end"},[t(o.a,{staticClass:"mt-3 align-self-end",attrs:{type:"submit",color:"primary",disabled:c}},[t(m.a,[e._v(" mdi-content-save ")]),e._v("\n              Save\n            ")],1)],1)],1)]}}])})],1)],1),e._v(" "),!0===e.delete_transaction_dialog?t("DeleteTransaction",{attrs:{dialog:e.delete_transaction_dialog,title:"Delete Transaction",end_point:"delete_transaction",delete_data:e.delete_data},on:{closeModal:function(t){e.delete_transaction_dialog=!1},confirmDelete:e.confirmDelete}}):e._e()],1)}),[],!1,null,"7f7b0125",null);t.default=component.exports;installComponents(component,{Form:r(221).default})}}]);