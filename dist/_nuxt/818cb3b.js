(window.webpackJsonp=window.webpackJsonp||[]).push([[27,7,11,12,14],{635:function(t,e,o){var content=o(642);content.__esModule&&(content=content.default),"string"==typeof content&&(content=[[t.i,content,""]]),content.locals&&(t.exports=content.locals);(0,o(17).default)("5dc0d170",content,!0,{sourceMap:!1})},636:function(t,e,o){"use strict";o.r(e);var r=o(173),n=o(273),l=o(33),c=o(619),d=o(271),m=o(212),_=o(218),f=o(172),y=o(268),v=o(66),h=o(616),x=o(6),C=(o(50),o(25),{props:{end_point:String,delete_data:Object,dialog:Boolean,title:String},data:function(){return{}},methods:{destroy:function(){var t=this;return Object(x.a)(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.$axios.$delete("".concat(t.end_point,"/").concat(t.delete_data.id)).then((function(e){t.$emit("confirmDelete",e),t.$emit("closeModal")}));case 2:e.sent;case 3:case"end":return e.stop()}}),e)})))()}}}),k=o(47),component=Object(k.a)(C,(function(){var t=this,e=t._self._c;return e("div",{staticClass:"text-center"},[e(c.a,{attrs:{width:t.$vuetify.breakpoint.xs?"90vw":"20vw",persistent:""},model:{value:t.dialog,callback:function(e){t.dialog=e},expression:"dialog"}},[e(n.a,[e(l.d,{staticClass:"d-flex justify-space-between text-h5 primary white--text"},[t._v("\n        "+t._s(t.title)+"\n        "),e(m.a,{attrs:{color:"white"},on:{click:function(e){return t.$emit("closeModal")}}},[t._v("mdi-close")])],1),t._v(" "),e(l.c,[e(f.a,{attrs:{"three-line":""}},[e(v.a,[t._v("\n            Are you sure you want to delete this data?\n          ")]),t._v(" "),e(y.a,{attrs:{tile:"",size:"100"}},[e(_.a,{attrs:{src:"trash.png"}})],1)],1)],1),t._v(" "),e(d.a),t._v(" "),e(l.a,[e(h.a),t._v(" "),e(r.a,{attrs:{color:"primary"},on:{click:function(e){return t.destroy()}}},[e(m.a,{staticClass:"mr-1",attrs:{small:""}},[t._v(" mdi-delete")]),t._v("\n          Delete\n        ")],1)],1)],1)],1)],1)}),[],!1,null,"7c4fea62",null);e.default=component.exports},639:function(t,e,o){"use strict";o.r(e);var r=o(173),n=o(273),l=o(33),c=o(619),d=o(271),m=o(212),_=o(616),f=o(6),y=(o(50),o(2)),v=o(644),h=o.n(v),x=o(645);window.document.title;y.a.use(h.a);var C={props:{qr_data:[Object,String],qr_dialog:Boolean},components:{QrcodeVue:x.a},data:function(){return{}},methods:{print:function(){var t=this;return Object(f.a)(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.$htmlToPaper("printMe");case 2:case"end":return e.stop()}}),e)})))()}}},k=o(47),component=Object(k.a)(C,(function(){var t=this,e=t._self._c;return e("div",{staticClass:"text-center"},[e(c.a,{attrs:{width:t.$vuetify.breakpoint.xs?"90vw":"20vw",persistent:""},model:{value:t.qr_dialog,callback:function(e){t.qr_dialog=e},expression:"qr_dialog"}},[e(n.a,[e(l.d,{staticClass:"d-flex justify-space-between text-h5 primary white--text"},[t._v("\n        QR CODE\n        "),e(m.a,{attrs:{color:"white"},on:{click:function(e){return t.$emit("closeQr")}}},[t._v("mdi-close")])],1),t._v(" "),t.qr_data?e(l.c,{staticClass:"d-flex justify-center mt-5",attrs:{id:"printMe"}},[e("qrcode-vue",{attrs:{"render-as":"svg",value:t.qr_data,size:150,level:"H"}})],1):t._e(),t._v(" "),e(d.a),t._v(" "),e(l.a,[e(_.a),t._v(" "),e(r.a,{attrs:{color:"primary"},on:{click:function(e){return t.print()}}},[e(m.a,{staticClass:"mr-1",attrs:{small:""}},[t._v(" mdi-print")]),t._v("\n          Print\n        ")],1)],1)],1)],1)],1)}),[],!1,null,"85fdb542",null);e.default=component.exports},641:function(t,e,o){"use strict";o(635)},642:function(t,e,o){var r=o(16)(!1);r.push([t.i,".basil{background-color:#fffbe6!important}.basil--text{color:#356859!important}",""]),t.exports=r},646:function(t,e,o){"use strict";o.r(e);var r=o(649),n=o(173),l=o(273),c=o(33),d=o(621),m=o(619),_=o(271),f=o(212),y=o(620),v=o(616),h=o(75),x=(o(27),o(19),{props:{add_property_dialog:Boolean},data:function(){return{show_type:!1,show_quantity:!0,show_property_code:!1,form:{type:null,serial_number:null,purchaser:null,cost:0,quantity:1,property_code:null},item:{options:[]},type:[{label:"Consumable",value:"Consumable"},{label:"Non-Consumable",value:"Non-Consumable"}],purchaser:[{label:"Provincial Office",value:"Provincial Office"},{label:"Regional Office",value:"Regional Office"}],category:{options:[],hasIcon:{status:!0,icon:"mdi-folder-multiple-outline",modal:{title:"Add Category",fields:[{cols:1,name:"name",title:"Category",rules:"required",type:"text"}],button:{color:"success",btn_name:"Save",icon:"mdi-content-save"}}}},location:{options:[],hasIcon:{status:!0,icon:"mdi-map-marker-plus-outline",modal:{title:"Location",fields:[{cols:1,name:"name",title:"Location",rules:"required",type:"text"}],button:{color:"success",btn_name:"Save",icon:"mdi-content-save"}}}},received_by:{options:[],hasIcon:{status:!0,icon:"mdi-account",modal:{title:"Received By",fields:[{cols:1,name:"fname",title:"First Name",rules:"required",type:"text"},{cols:1,name:"mname",title:"Middle Name",type:"text"},{cols:1,name:"lname",title:"Last Name",rules:"required",type:"text"},{cols:1,name:"office",title:"Office",rules:"required",type:"text"}],button:{color:"success",btn_name:"Save",icon:"mdi-content-save"}}}},received_from:{options:[]},assigned_person:{options:[]},status:{options:[]}}},computed:{computeCost:function(){return this.form.quantity*this.form.cost}},methods:{addCategory:function(form){var t=this;this.$store.dispatch("postItemCategory",form).then((function(e){t.$toast.success("Category ".concat(e.data.name," has been added successfully.")),t.$store.dispatch("getItemCategories"),t.category.options.push(e.data)})).catch((function(e){t.$toast.error(e)}))},addLocation:function(form){var t=this;this.$store.dispatch("postLocation",form).then((function(e){t.$toast.success("Location ".concat(e.data.name," has been added successfully.")),t.$store.dispatch("getLocations"),t.location.options.push(e.data)})).catch((function(e){t.$toast.error(e)}))},getLocation:function(){this.location.options=this.$store.state.locations.locations.data},addEmployee:function(form){var t=this;this.$store.dispatch("postEmployee",form).then((function(e){t.$toast.success("Employee ".concat(e.data.fullname," has been added successfully.")),t.$store.dispatch("getEmployees"),t.received_by.options.push(e.data),t.received_from.options.push(e.data),t.assigned_person.options.push(e.data)})).catch((function(e){t.$toast.error(e)}))},getEmployee:function(){this.received_by.options=this.$store.state.employees.employees.data,this.received_from.options=this.$store.state.employees.employees.data,this.assigned_person.options=this.$store.state.employees.employees.data},getStatus:function(){this.status.options=this.$store.state.item_status.item_status.data},getItem:function(){this.item.options=this.$store.state.items.items.data},onSubmit:function(){var t;this.form.property_name=null!==(t=this.form.property_name.property_name)&&void 0!==t?t:this.form.property_name,this.form.assigned_person_id=Number(this.form.assigned_person),this.form.item_category_id=Number(this.form.category),this.form.received_by_id=Number(this.form.received_by),this.form.received_from_id=Number(this.form.received_from),this.form.item_status_id=Number(this.form.status),this.form.location_id=Number(this.form.location),this.$emit("form",this.form,"add")},closeModal:function(){this.$emit("closeModal",!1)},model:function(t,e){this.form[e]=t}},watch:{"form.type":function(t){"Consumable"===t?this.show_type=!0:(this.form.status="",this.show_type=!1)},"form.purchaser":function(t){"Regional Office"===t?(this.form.quantity=1,this.show_quantity=!1,this.show_property_code=!0,this.form.property_code="SRC-W-"+(new Date).getFullYear()+"-"):(this.show_quantity=!0,this.show_property_code=!1,this.form.property_code="PO-"+(new Date).getFullYear()+"-")}},mounted:function(){this.getCategory(),this.getLocation(),this.getEmployee(),this.getStatus(),this.getItem()}}),C=o(47),component=Object(C.a)(x,(function(){var t=this,e=t._self._c;return e("div",{staticClass:"text-center"},[e(m.a,{attrs:{width:t.$vuetify.breakpoint.xs?"90vw":"40vw",scrollable:"",persistent:""},model:{value:t.add_property_dialog,callback:function(e){t.add_property_dialog=e},expression:"add_property_dialog"}},[e(l.a,[e(c.d,{staticClass:"d-flex justify-space-between text-h5 primary white--text"},[t._v("\n        Add Property\n        "),e(f.a,{attrs:{color:"white"},on:{click:t.closeModal}},[t._v("mdi-close")])],1),t._v(" "),e(c.c,{staticClass:"pa-5"},[e("ValidationObserver",{ref:"observer",scopedSlots:t._u([{key:"default",fn:function(o){var l=o.valid,m=o.invalid;return[e("form",{staticClass:"d-flex flex-column",on:{submit:function(e){return e.preventDefault(),t.onSubmit.apply(null,arguments)}}},[e(y.a,[e(d.a,{staticClass:"my-0 py-0",attrs:{cols:"12"}},[e("Input",{attrs:{valid:l,title:"Type",name:"type",type:"radio",rules:"required",options:t.type},on:{model:function(e){return t.model(e,"type")}}})],1),t._v(" "),e(d.a,{staticClass:"my-0 py-0",attrs:{cols:"12"}},[e("Input",{attrs:{valid:l,title:"Property Name",name:"property_name",type:"combobox",rules:"required",item_text:"property_name",item_value:"property_name",options:t.item.options},on:{model:function(e){return t.model(e,"property_name")}}})],1),t._v(" "),e(d.a,{staticClass:"my-0 py-0",attrs:{cols:"12"}},[e("Input",{attrs:{valid:l,title:"Purchaser",name:"purchaser",type:"radio",rules:"required",options:t.purchaser},on:{model:function(e){return t.model(e,"purchaser")}}})],1),t._v(" "),e(d.a,{attrs:{cols:"12"}},[e("ValidationProvider",{attrs:{rules:"Regional Office"===t.form.purchaser?{required:!0,regional_format:"^(SRC-W-)[A-Za-z0-9]"}:{required:!0},name:"Property Code"},scopedSlots:t._u([{key:"default",fn:function(o){var r=o.errors;return[e(h.a,{staticClass:"pa-0 ma-0",attrs:{disabled:!t.show_property_code,name:"property_code",label:"Property Code",placeholder:"Property Code",type:"text","error-messages":r,success:l},model:{value:t.form.property_code,callback:function(e){t.$set(t.form,"property_code",e)},expression:"form.property_code"}})]}}],null,!0)})],1),t._v(" "),e(d.a,{attrs:{cols:"12",md:"6",sm:"12",xs:"12"}},[e("Input",{attrs:{valid:l,title:"Category",name:"category",type:"autocomplete",rules:"required",item_text:"name",item_value:"id",hasIcon:t.category.hasIcon,options:t.category.options},on:{model:function(e){return t.model(e,"category")},modalInput:t.addCategory}})],1),t._v(" "),e(d.a,{attrs:{cols:"12",md:"6",sm:"12",xs:"12"}},[e("Input",{attrs:{valid:l,title:"Description",row:"1",name:"description",type:"textarea",rules:"required"},on:{model:function(e){return t.model(e,"description")}}})],1),t._v(" "),e(d.a,{attrs:{cols:"12"}},[e("ValidationProvider",{attrs:{name:"Serial Number"},scopedSlots:t._u([{key:"default",fn:function(o){var r=o.errors;return[e(h.a,{staticClass:"pa-0 ma-0",attrs:{name:"serial_number",label:"Serial Number",placeholder:"Serial Number",type:"text","error-messages":r,success:l},model:{value:t.form.serial_number,callback:function(e){t.$set(t.form,"serial_number",e)},expression:"form.serial_number"}})]}}],null,!0)})],1),t._v(" "),e(d.a,{attrs:{cols:"12"}},[e("Input",{attrs:{valid:l,title:"Location",name:"location",type:"autocomplete",rules:"required",item_text:"name",item_value:"id",hasIcon:t.location.hasIcon,options:t.location.options},on:{model:function(e){return t.model(e,"location")},modalInput:t.addLocation}})],1),t._v(" "),e(d.a,{attrs:{cols:"12"}},[e("Input",{attrs:{valid:l,title:"Received By",name:"received_by",type:"autocomplete",rules:"required",item_text:"fullname",item_value:"id",hasIcon:t.received_by.hasIcon,options:t.received_by.options},on:{model:function(e){return t.model(e,"received_by")},modalInput:t.addEmployee}})],1),t._v(" "),e(d.a,{attrs:{cols:"12"}},[e("Input",{attrs:{valid:l,title:"Received From",name:"received_from",type:"autocomplete",rules:"required",item_text:"fullname",item_value:"id",options:t.received_by.options},on:{model:function(e){return t.model(e,"received_from")}}})],1),t._v(" "),e(d.a,{attrs:{cols:"12"}},[e("Input",{attrs:{valid:l,title:"Assigned Person",name:"assigned_person",type:"autocomplete",rules:"required",item_text:"fullname",item_value:"id",options:t.assigned_person.options},on:{model:function(e){return t.model(e,"assigned_person")}}})],1),t._v(" "),e(d.a,{attrs:{cols:"12",lg:"4",sm:"12",xs:"12"}},[e("Input",{attrs:{disabled:t.show_type,valid:l,title:"Status",name:"status",type:"autocomplete",item_text:"name",item_value:"id",options:t.status.options},on:{model:function(e){return t.model(e,"status")}}})],1),t._v(" "),e(d.a,{attrs:{cols:"12",lg:"4",md:"4",sm:"6",xs:"12"}},[e("Input",{attrs:{valid:l,title:"Date Acquired",name:"date_acquired",type:"date",rules:"required"},on:{model:function(e){return t.model(e,"date_acquired")}}})],1),t._v(" "),e(d.a,{attrs:{cols:"12",lg:"4",md:"4",sm:"6",xs:"12"}},[e("Input",{attrs:{valid:l,title:"Date Received",name:"date_received",type:"date",rules:"required"},on:{model:function(e){return t.model(e,"date_received")}}})],1),t._v(" "),e(d.a,{attrs:{cols:"12",lg:"6",sm:"12",xs:"12"}},[e("Input",{attrs:{valid:l,title:"Cost",name:"cost",type:"number",rules:"required"},on:{model:function(e){return t.model(e,"cost")}}})],1),t._v(" "),e(d.a,{attrs:{cols:"12",lg:"6",sm:"12",xs:"12"}},[e("ValidationProvider",{attrs:{rules:"required",name:"Quantity"},scopedSlots:t._u([{key:"default",fn:function(o){var r=o.errors;return[e(h.a,{staticClass:"pa-0 ma-0",attrs:{disabled:!t.show_quantity,name:"quantity",label:"Quantity",placeholder:"Quantity",type:"number","error-messages":r,success:l},model:{value:t.form.quantity,callback:function(e){t.$set(t.form,"quantity",e)},expression:"form.quantity"}})]}}],null,!0)})],1),t._v(" "),e(d.a,{attrs:{if:"computeCost > 0",cols:"12"}},[e(r.a,{attrs:{type:"success"}},[t._v("\n                  "+t._s(t.$convertToCurrency(t.computeCost))+"\n                ")])],1)],1),t._v(" "),e(_.a),t._v(" "),e(c.a,[e(v.a),t._v(" "),e(n.a,{attrs:{type:"submit",color:"primary",disabled:m}},[e(f.a,{staticClass:"mx-1"},[t._v(" mdi-content-save")]),t._v("\n                Save Property\n              ")],1)],1)],1)]}}])})],1)],1)],1)],1)}),[],!1,null,"5ce3ce3a",null);e.default=component.exports;installComponents(component,{Input:o(319).default,Form:o(221).default})},647:function(t,e,o){"use strict";o.r(e);var r=o(151),n=o(173),l=o(273),c=o(33),d=o(619),m=o(271),_=o(212),f=o(616),y=o(75),v=o(6),h=(o(50),o(19),o(8),o(65),o(27),{props:{end_point:String,stocks_data:Object,dialog:Boolean,title:String},data:function(){return{show_type:!1,show_property_code:!1,show_quantity:!0,field_title:null,data:null,form:{item_status_id:null,property_name:null,action:null,type:null,serial_number:null,purchaser:null,cost:0,quantity:1,property_code:null},status:{options:[]},type:[{label:"Consumable",value:"Consumable"},{label:"Non-Consumable",value:"Non-Consumable"}],received_by:{options:[],hasIcon:{status:!0,icon:"mdi-account",modal:{title:"Received By",fields:[{cols:1,name:"fname",title:"First Name",rules:"required",type:"text"},{cols:1,name:"mname",title:"Middle Name",type:"text"},{cols:1,name:"lname",title:"Last Name",rules:"required",type:"text"},{cols:1,name:"office",title:"Office",rules:"required",type:"text"}],button:{color:"success",btn_name:"Save",icon:"mdi-content-save"}}}},received_from:{options:[]},assigned_person:{options:[]},location:{options:[],hasIcon:{status:!0,icon:"mdi-map-marker-plus-outline",modal:{title:"Location",fields:[{cols:1,name:"name",title:"Location",rules:"required",type:"text"}],button:{color:"success",btn_name:"Save",icon:"mdi-content-save"}}}},purchaser:[{label:"Provincial Office",value:"Provincial Office"},{label:"Regional Office",value:"Regional Office"}],category:{options:[],hasIcon:{status:!0,icon:"mdi-folder-multiple-outline",modal:{title:"Add Category",fields:[{cols:1,name:"name",title:"Category",rules:"required",type:"text"}],button:{color:"success",btn_name:"Save",icon:"mdi-content-save"}}}}}},methods:{onSubmit:function(){this.form.assigned_person_id=Number(this.form.assigned_person),this.form.item_category_id=Number(this.form.category.id),this.form.received_by_id=Number(this.form.received_by),this.form.received_from_id=Number(this.form.received_from),"Consumable"===this.stocks_data.item.type?this.form.item_status_id=Number(this.form.status):this.form.item_status_id=null,this.form.location_id=Number(this.form.location),this.form.type=this.stocks_data.item.type,this.form.action=this.stocks_data.type,this.form.purchaser=this.stocks_data.item.purchaser,this.form.cost=this.stocks_data.item.cost,this.form.property_name=this.stocks_data.item.property_name,this.form.description=this.stocks_data.item.description,this.$emit("manageStocks",this.form,"add")},getStatus:function(){this.status.options=this.$store.state.item_status.item_status.data},addLocation:function(form){var t=this;this.$store.dispatch("postLocation",form).then((function(e){t.$toast.success("Location ".concat(e.data.name," has been added successfully.")),t.$store.dispatch("getLocations"),t.location.options.push(e.data)})).catch((function(e){t.$toast.error(e)}))},getLocation:function(){this.location.options=this.$store.state.locations.locations.data},addCategory:function(form){var t=this;this.$store.dispatch("postItemCategory",form).then((function(e){t.$toast.success("Category ".concat(e.data.name," has been added successfully.")),t.$store.dispatch("getItemCategories"),t.category.options.push(e.data)})).catch((function(e){t.$toast.error(e)}))},addEmployee:function(form){var t=this;this.$store.dispatch("postEmployee",form).then((function(e){t.$toast.success("Employee ".concat(e.data.fullname," has been added successfully.")),t.$store.dispatch("getEmployees"),t.received_by.options.push(e.data),t.received_from.options.push(e.data),t.assigned_person.options.push(e.data)})).catch((function(e){t.$toast.error(e)}))},getEmployee:function(){this.received_by.options=this.$store.state.employees.employees.data,this.received_from.options=this.$store.state.employees.employees.data,this.assigned_person.options=this.$store.state.employees.employees.data},stocks:function(){var t=this;return Object(v.a)(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(t.data.quantity<t.form.quantity&&"deduct"===t.stocks_data.type)){e.next=4;break}t.$toast.error("Not Enought Stock/Stocks."),e.next=8;break;case 4:return t.data.quantity="deduct"===t.stocks_data.type?t.data.quantity-=t.form.quantity:t.data.quantity+=t.form.quantity,"deduct"===t.stocks_data.type&&(t.data.action="deduct"),e.next=8,t.$axios.$post("update_or_create_item",t.data).then((function(e){t.$emit("confirmStocks",e),t.$emit("closeModal")}));case 8:case"end":return e.stop()}}),e)})))()},model:function(t,e){this.form[e]=t}},watch:{"form.type":function(t){console.log(t),"Consumable"===t?this.show_type=!0:(console.log(t),this.show_type=!1)},"form.purchaser":function(t){"Regional Office"===t?(this.form.quantity=1,this.show_quantity=!1,this.show_property_code=!0,this.form.property_code="SRC-W-"+(new Date).getFullYear()+"-"):(this.show_quantity=!0,this.show_property_code=!1,this.form.property_code="PO-"+(new Date).getFullYear()+"-")}},mounted:function(){this.data=this.stocks_data.item,this.field_title="deduct"===this.stocks_data.action?"Deduct Quantity":"Add Quantity",this.getCategory(),this.getEmployee(),this.getLocation(),this.getStatus(),console.log(this.stocks_data.item.item_category_id)}}),x=o(47),component=Object(x.a)(h,(function(){var t=this,e=t._self._c;return e("div",{staticClass:"text-center"},[e(d.a,{attrs:{width:t.$vuetify.breakpoint.xs?"90vw":"20vw",persistent:""},model:{value:t.dialog,callback:function(e){t.dialog=e},expression:"dialog"}},[e(l.a,[e(c.d,{staticClass:"d-flex justify-space-between text-h5 primary white--text"},[t._v("\n        "+t._s(t.title)+"\n        "),e(_.a,{attrs:{color:"white"},on:{click:function(e){return t.$emit("closeModal")}}},[t._v("mdi-close")])],1),t._v(" "),e(c.c,{staticClass:"pa-5"},[e("ValidationObserver",{ref:"observer",scopedSlots:t._u([{key:"default",fn:function(o){var l=o.valid,d=o.invalid;return[e("form",{staticClass:"d-flex flex-column",on:{submit:function(e){return e.preventDefault(),t.onSubmit.apply(null,arguments)}}},[e("Input",{attrs:{valid:l,disabled:"disabled",title:"Type",name:"type",type:"radio",rules:"required",value:t.stocks_data.item.type,options:t.type},on:{model:function(e){return t.model(e,"type")}}}),t._v(" "),e("Input",{attrs:{valid:l,disabled:"disabled",title:"Purchaser",name:"purchaser",type:"radio",rules:"required",value:t.stocks_data.item.purchaser,options:t.purchaser},on:{model:function(e){return t.model(e,"purchaser")}}}),t._v(" "),e("Input",{attrs:{valid:l,disabled:"disabled",title:"Category",name:"category",type:"autocomplete",rules:"required",item_text:"name",item_value:"id",hasIcon:t.category.hasIcon,options:t.category.options,value:t.stocks_data.item.item_category_info},on:{model:function(e){return t.model(e,"category")},modalInput:t.addCategory}}),t._v(" "),e("ValidationProvider",{attrs:{rules:"Regional Office"===t.stocks_data.property_code?{required:!0,regional_format:"^(SRC-W-)[A-Za-z0-9]"}:{required:!0},name:"Property Code"},scopedSlots:t._u([{key:"default",fn:function(o){var r=o.errors;return[e(y.a,{staticClass:"pa-0 ma-0",attrs:{disabled:!t.show_property_code,name:"property_code",label:"Property Code",placeholder:"Property Code",type:"text","error-messages":r,success:l},model:{value:t.form.property_code,callback:function(e){t.$set(t.form,"property_code",e)},expression:"form.property_code"}})]}}],null,!0)}),t._v(" "),e("ValidationProvider",{attrs:{name:"Serial Number"},scopedSlots:t._u([{key:"default",fn:function(o){var r=o.errors;return[e(y.a,{staticClass:"pa-0 ma-0",attrs:{name:"serial_number",label:"Serial Number",placeholder:"Serial Number",type:"text","error-messages":r,success:l},model:{value:t.form.serial_number,callback:function(e){t.$set(t.form,"serial_number",e)},expression:"form.serial_number"}})]}}],null,!0)}),t._v(" "),e("Input",{attrs:{valid:l,title:"Location",name:"location",type:"autocomplete",rules:"required",item_text:"name",item_value:"id",hasIcon:t.location.hasIcon,options:t.location.options},on:{model:function(e){return t.model(e,"location")},modalInput:t.addLocation}}),t._v(" "),e("Input",{attrs:{valid:l,title:"Received By",name:"received_by",type:"autocomplete",rules:"required",item_text:"fullname",item_value:"id",hasIcon:t.received_by.hasIcon,options:t.received_by.options},on:{model:function(e){return t.model(e,"received_by")},modalInput:t.addEmployee}}),t._v(" "),e("Input",{attrs:{valid:l,title:"Received From",name:"received_from",type:"autocomplete",rules:"required",item_text:"fullname",item_value:"id",options:t.received_by.options},on:{model:function(e){return t.model(e,"received_from")}}}),t._v(" "),e("Input",{attrs:{valid:l,title:"Assigned Person",name:"assigned_person",type:"autocomplete",rules:"required",item_text:"fullname",item_value:"id",options:t.assigned_person.options},on:{model:function(e){return t.model(e,"assigned_person")}}}),t._v(" "),e("Input",{attrs:{valid:l,title:"Date Acquired",name:"date_acquired",type:"date",rules:"required"},on:{model:function(e){return t.model(e,"date_acquired")}}}),t._v(" "),e("Input",{attrs:{valid:l,title:"Date Received",name:"date_received",type:"date",rules:"required"},on:{model:function(e){return t.model(e,"date_received")}}}),t._v(" "),e("ValidationProvider",{attrs:{name:"Status"},scopedSlots:t._u([{key:"default",fn:function(o){var n=o.errors;return[e(r.a,{staticClass:"pa-0 ma-0",attrs:{items:t.status.options,"item-text":"name","item-value":"id",label:"Status",name:"status",disabled:t.show_type,"error-messages":n,success:l},model:{value:t.form.status,callback:function(e){t.$set(t.form,"status",e)},expression:"form.status"}})]}}],null,!0)}),t._v(" "),e("ValidationProvider",{attrs:{rules:"required",name:"Quantity"},scopedSlots:t._u([{key:"default",fn:function(o){var r=o.errors;return[e(y.a,{staticClass:"pa-0 ma-0",attrs:{disabled:!t.show_quantity,name:"quantity",label:"Quantity",placeholder:"Quantity",type:"number","error-messages":r,success:l},model:{value:t.form.quantity,callback:function(e){t.$set(t.form,"quantity",e)},expression:"form.quantity"}})]}}],null,!0)}),t._v(" "),e(m.a),t._v(" "),e(c.a,[e(f.a),t._v(" "),e(n.a,{attrs:{type:"submit",color:"primary",disabled:d}},[e(_.a,{staticClass:"mx-1"},[t._v(" mdi-content-save")]),t._v("\n                Save\n              ")],1)],1)],1)]}}])})],1)],1)],1)],1)}),[],!1,null,"09e5c663",null);e.default=component.exports;installComponents(component,{Input:o(319).default,Form:o(221).default})},648:function(t,e,o){"use strict";o.r(e);var r=o(173),n=o(273),l=o(33),c=o(689),d=o(212),m=o(688),_=o(640),f=o(710),y=o(638),v=o(75),h=(o(30),o(318),o(4),o(11),o(8),o(65),o(27),o(639)),x={name:"PropertyPage",props:{class_name:String,group_by:String,tab_name:Array,table_data:Array,table_headers:Array,buttons:Object},computed:{dataTableBindings:function(){return""!==this.group_by?{"group-by":this.group_by}:{}}},components:{Qr:h.default},data:function(){return{qr_dialog:!1,qr_data:"",search:"",dialog:{add:!1},tab:null}},methods:{computeQuantity:function(t){var e=0;return t.forEach((function(t){e+=t.quantity})),e},qr:function(t){var data={property_name:t.property_name,description:t.description,property_code:t.property_code,location:t.location_info.name,received_by:t.received_by_info.fname+" "+t.received_by_info.lname,received_by_office:t.received_by_info.office};this.qr_data=JSON.stringify(data),console.log(t),this.qr_dialog=!0},closeQr:function(){this.qr_dialog=!1},edit:function(t){this.$emit("edit_data",t)},stocks:function(t,e){this.$emit("stocks",{item:t,type:e})},template:function(t){this.$emit("template",t)},destroy:function(t){this.$emit("destroy_data",t)}}},C=(o(641),o(47)),component=Object(C.a)(x,(function(){var t,e=this,o=e._self._c;return o(n.a,{attrs:{flat:"",primary:""}},[o(l.d,{staticClass:"d-flex text-center justify-center py-6"},[o("h1",{staticClass:"font-weight-bold text-h2 primary--text"},[e._v("\n      "+e._s(null===(t=e.tab_name)||void 0===t?void 0:t[e.tab])+"\n    ")])]),e._v(" "),o("div",{staticClass:"d-flex justify-end",class:{"justify-center":e.$vuetify.breakpoint.xs}},[e._t("add_dialog")],2),e._v(" "),o(f.a,{attrs:{"background-color":"transparent",color:"primary",grow:""},model:{value:e.tab,callback:function(t){e.tab=t},expression:"tab"}},e._l(e.table_data,(function(t,r){return o(m.a,{key:r},e._l(t,(function(title,t){return o("div",{key:t},[e._v("\n        "+e._s(title.tab_name)+"\n      ")])})),0)})),1),e._v(" "),o(y.a,{model:{value:e.tab,callback:function(t){e.tab=t},expression:"tab"}},e._l(e.table_data,(function(t,m){return o(_.a,{key:m},[o(n.a,{staticClass:"mt-5",attrs:{flat:""}},[o(l.c,{staticClass:"pa-0 ma-0"},e._l(t,(function(data,t){return o("div",{key:t},[o(v.a,{attrs:{"append-icon":"mdi-magnify",label:"Search","single-line":"","hide-details":""},model:{value:e.search,callback:function(t){e.search=t},expression:"search"}}),e._v(" "),o(c.a,e._b({staticClass:"elevation-1",attrs:{headers:e.table_headers,items:data.data,search:e.search},scopedSlots:e._u([""!==e.group_by?{key:"group.header",fn:function(t){var n=t.items,l=t.isOpen,c=t.toggle;return[o("th",{staticStyle:{cursor:"pointer"},attrs:{colspan:e.table_headers.length},on:{click:c}},[o(r.a,{ref:n,refInFor:!0,attrs:{small:"",icon:"","data-open":l}},[o(d.a,l?[e._v("mdi-chevron-up")]:[e._v("mdi-chevron-down")])],1),e._v(" "),o("span",{staticClass:"subtitle-1"},[o("strong"),e._v(e._s(n[0][e.group_by])+"\n                  ")]),e._v(" "),o("span",{staticClass:"subtitle-1",staticStyle:{float:"right"}},[o("strong",[e._v(" Total Amount: ")]),e._v(e._s(e.$convertToCurrency(e.computeQuantity(n)*n[0].cost))+"\n                  ")]),e._v(" "),o("span",{staticClass:"subtitle-1 mr-5",staticStyle:{float:"right"}},[o("strong",[e._v(" Quantity: ")]),e._v(e._s(e.computeQuantity(n))+"\n                  ")])],1)]}}:null,{key:"item.cost",fn:function(t){var o=t.item;return[e._v("\n                "+e._s(e.$convertToCurrency(o.cost))+"\n              ")]}},{key:"item.date_received",fn:function(t){var o=t.item;return[e._v("\n                "+e._s(new Date(o.date_received).toISOString().split("T")[0])+"\n              ")]}},{key:"item.date_acquired",fn:function(t){var o=t.item;return[e._v("\n                "+e._s(new Date(o.date_acquired).toISOString().split("T")[0])+"\n              ")]}},{key:"item.stocks",fn:function(t){var n=t.item;return[o("div",{staticClass:"d-flex"},[o(r.a,{staticClass:"primary mr-2",attrs:{fab:"","x-small":""},on:{click:function(t){return e.stocks(n,"deduct")}}},[o(d.a,{attrs:{dark:""}},[e._v(" mdi-minus ")])],1),e._v(" "),o(r.a,{staticClass:"primary mr-2",attrs:{fab:"","x-small":""},on:{click:function(t){return e.stocks(n,"add")}}},[o(d.a,{attrs:{dark:""}},[e._v(" mdi-plus ")])],1)],1)]}},{key:"item.template",fn:function(t){var n=t.item;return[o("div",{staticClass:"d-flex"},[o(r.a,{staticClass:"primary mr-2",attrs:{fab:"","x-small":""},on:{click:function(t){return e.template(n)}}},[o(d.a,{attrs:{dark:""}},[e._v(" mdi-content-copy ")])],1)],1)]}},{key:"item.actions",fn:function(t){var n=t.item;return[o("div",{staticClass:"d-flex"},[o(r.a,{staticClass:"primary mr-2",on:{click:function(t){return e.edit(n)}}},[e._v("Edit")]),e._v(" "),o(r.a,{staticClass:"error",on:{click:function(t){return e.destroy(n)}}},[e._v("Delete")])],1)]}},{key:"item.qr",fn:function(t){var n=t.item;return["Non-Consumable"===n.type?o("div",{staticClass:"d-flex"},[o(r.a,{staticClass:"primary mr-2",attrs:{fab:"","x-small":""},on:{click:function(t){return e.qr(n)}}},[o(d.a,{attrs:{dark:""}},[e._v("mdi-qrcode")])],1)],1):e._e()]}}],null,!0)},"v-data-table",e.dataTableBindings,!1))],1)})),0)],1)],1)})),1),e._v(" "),!0===e.qr_dialog?o("qr",{attrs:{qr_dialog:e.qr_dialog,qr_data:e.qr_data},on:{closeQr:function(t){e.qr_dialog=!1}}}):e._e()],1)}),[],!1,null,null,null);e.default=component.exports},655:function(t,e,o){"use strict";o.r(e);var r=o(649),n=o(173),l=o(273),c=o(33),d=o(621),m=o(619),_=o(212),f=o(620),y=o(616),v=o(75),h=(o(8),o(65),o(27),{props:{edit_property_dialog:Boolean,edit_data:Object},data:function(){return{serial_number_edit:null,form:{serial_number:null,purchaser:null,cost:0,quantity:0},item:{options:[]},type:[{label:"Consumable",value:"Consumable"},{label:"Non-Consumable",value:"Non-Consumable"}],purchaser:[{label:"Provincial Office",value:"Provincial Office"},{label:"Regional Office",value:"Regional Office"}],category:{options:[],hasIcon:{status:!0,icon:"mdi-folder-multiple-outline",modal:{title:"Add Category",fields:[{cols:1,name:"name",title:"Category",rules:"required",type:"text"}],button:{color:"success",btn_name:"Save",icon:"mdi-content-save"}}}},location:{options:[],hasIcon:{status:!0,icon:"mdi-map-marker-plus-outline",modal:{title:"Location",fields:[{cols:1,name:"name",title:"Location",rules:"required",type:"text"}],button:{color:"success",btn_name:"Save",icon:"mdi-content-save"}}}},received_by:{options:[],hasIcon:{status:!0,icon:"mdi-account",modal:{title:"Received By",fields:[{cols:1,name:"fname",title:"First Name",rules:"required",type:"text"},{cols:1,name:"mname",title:"Middle Name",type:"text"},{cols:1,name:"lname",title:"Last Name",rules:"required",type:"text"},{cols:1,name:"office",title:"Office",rules:"required",type:"text"}],button:{color:"success",btn_name:"Save",icon:"mdi-content-save"}}}},received_from:{options:[]},assigned_person:{options:[]},status:{options:[]}}},computed:{computeCost:function(){return this.form.quantity*this.form.cost}},methods:{addCategory:function(form){var t=this;this.$store.dispatch("postItemCategory",form).then((function(e){t.$toast.success("Category ".concat(e.data.name," has been added successfully.")),t.$store.dispatch("getItemCategories"),t.category.options.push(e.data)})).catch((function(e){t.$toast.error(e)}))},addLocation:function(form){var t=this;this.$store.dispatch("postLocation",form).then((function(e){t.$toast.success("Location ".concat(e.data.name," has been added successfully.")),t.$store.dispatch("getLocations"),t.location.options.push(e.data)})).catch((function(e){t.$toast.error(e)}))},getLocation:function(){this.location.options=this.$store.state.locations.locations.data},addEmployee:function(form){var t=this;console.log(form),this.$store.dispatch("postEmployee",form).then((function(e){t.$toast.success("Employee ".concat(e.data.fullname," has been added successfully.")),t.$store.dispatch("getEmployees"),t.received_by.options.push(e.data),t.received_from.options.push(e.data),t.assigned_person.options.push(e.data)})).catch((function(e){t.$toast.error(e)}))},getEmployee:function(){this.received_by.options=this.$store.state.employees.employees.data,this.received_from.options=this.$store.state.employees.employees.data,this.assigned_person.options=this.$store.state.employees.employees.data},getStatus:function(){this.status.options=this.$store.state.item_status.item_status.data},getItem:function(){this.item.options=this.$store.state.items.items.data},onSubmit:function(){var t;this.form.serial_number=this.serial_number_edit,this.form.property_name=null!==(t=this.form.property_name.property_name)&&void 0!==t?t:this.form.property_name,this.form.id=this.form.id,this.$emit("form",this.form,"edit")},closeModal:function(){this.$emit("closeModal",!1)},model:function(t,e){this.form[e]=t}},watch:{"form.purchaser":function(t){"Regional Office"!==t||this.form.serial_number?this.serial_number_edit=this.form.serial_number:this.serial_number_edit="ABCD - "}},mounted:function(){this.getCategory(),this.getLocation(),this.getEmployee(),this.getStatus(),this.getItem(),this.edit_data&&(this.form=this.edit_data)}}),x=o(47),component=Object(x.a)(h,(function(){var t=this,e=t._self._c;return e("div",{staticClass:"text-center"},[e(m.a,{attrs:{width:t.$vuetify.breakpoint.xs?"90vw":"40vw",scrollable:"",persistent:""},model:{value:t.edit_property_dialog,callback:function(e){t.edit_property_dialog=e},expression:"edit_property_dialog"}},[e(l.a,[e(c.d,{staticClass:"d-flex justify-space-between text-h5 primary white--text"},[t._v("\n        Edit Property\n        "),e(_.a,{attrs:{color:"white"},on:{click:t.closeModal}},[t._v("mdi-close")])],1),t._v(" "),e(c.c,{staticClass:"pa-5"},[e("ValidationObserver",{ref:"observer",scopedSlots:t._u([{key:"default",fn:function(o){var l=o.valid,m=o.invalid;return[e("form",{staticClass:"d-flex flex-column",on:{submit:function(e){return e.preventDefault(),t.onSubmit.apply(null,arguments)}}},[e(f.a,[e(d.a,{staticClass:"my-0 py-0",attrs:{cols:"12"}},[e("Input",{attrs:{valid:l,disabled:"disabled",title:"Type",name:"type",type:"radio",rules:"required",options:t.type,value:t.edit_data.type},on:{model:function(e){return t.model(e,"type")}}})],1),t._v(" "),e(d.a,{staticClass:"my-0 py-0",attrs:{cols:"12"}},[e("Input",{attrs:{valid:l,disabled:"disabled",title:"Property Name",name:"property_name",type:"combobox",rules:"required",item_text:"property_name",options:t.item.options,value:t.edit_data.property_name},on:{model:function(e){return t.model(e,"property_name")}}})],1),t._v(" "),e(d.a,{staticClass:"my-0 py-0",attrs:{cols:"12"}},[e("Input",{attrs:{valid:l,disabled:"disabled",title:"Purchaser",name:"purchaser",type:"radio",rules:"required",options:t.purchaser,value:t.edit_data.purchaser},on:{model:function(e){return t.model(e,"purchaser")}}})],1),t._v(" "),e(d.a,{staticClass:"my-0 py-0",attrs:{cols:"12"}},[e("Input",{attrs:{valid:l,disabled:"disabled",title:"Property Code",name:"property_code",type:"text",rules:"required",value:t.edit_data.property_code},on:{model:function(e){return t.model(e,"property_code")}}})],1),t._v(" "),e(d.a,{attrs:{cols:"12",md:"6",sm:"12",xs:"12"}},[e("Input",{attrs:{valid:l,disabled:"disabled",title:"Category",name:"category",type:"autocomplete",rules:"required",item_text:"name",item_value:"id",hasIcon:t.category.hasIcon,options:t.category.options,value:t.edit_data.item_category_info},on:{model:function(e){return t.model(e,"category")},modalInput:t.addCategory}})],1),t._v(" "),e(d.a,{attrs:{cols:"12",md:"6",sm:"12",xs:"12"}},[e("Input",{attrs:{valid:l,disabled:"disabled",title:"Description",row:"1",name:"description",type:"textarea",rules:"required",value:t.edit_data.description},on:{model:function(e){return t.model(e,"description")}}})],1),t._v(" "),e(d.a,{attrs:{cols:"12"}},[e("ValidationProvider",{attrs:{rules:"Regional Office"===t.form.purchaser?{required:!0,regional_format:"^(ABCD - )[A-Za-z0-9]"}:{required:!0},name:"Serial Number"},scopedSlots:t._u([{key:"default",fn:function(o){var r=o.errors;return[e(v.a,{staticClass:"pa-0 ma-0",attrs:{disabled:"disabled",name:"serial_number",label:"Serial Number",placeholder:"Serial Number",type:"text","error-messages":r,success:l,value:t.form.serial_number},model:{value:t.serial_number_edit,callback:function(e){t.serial_number_edit=e},expression:"serial_number_edit"}})]}}],null,!0)})],1),t._v(" "),e(d.a,{attrs:{cols:"12"}},[e("Input",{attrs:{valid:l,title:"Location",name:"location",type:"autocomplete",rules:"required",item_text:"name",item_value:"id",hasIcon:t.location.hasIcon,options:t.location.options,value:t.edit_data.location_info},on:{model:function(e){return t.model(e,"location")},modalInput:t.addLocation}})],1),t._v(" "),e(d.a,{attrs:{cols:"12"}},[e("Input",{attrs:{valid:l,title:"Received By",name:"received_by",type:"autocomplete",rules:"required",item_text:"fullname",item_value:"id",hasIcon:t.received_by.hasIcon,options:t.received_by.options,value:t.edit_data.received_by_info},on:{model:function(e){return t.model(e,"received_by")},modalInput:t.addEmployee}})],1),t._v(" "),e(d.a,{attrs:{cols:"12"}},[e("Input",{attrs:{valid:l,disabled:"disabled",title:"Received From",name:"received_from",type:"autocomplete",rules:"required",item_text:"fullname",item_value:"id",options:t.received_by.options,value:t.edit_data.received_from_info},on:{model:function(e){return t.model(e,"received_from")}}})],1),t._v(" "),e(d.a,{attrs:{cols:"12"}},[e("Input",{attrs:{valid:l,disabled:"disabled",title:"Assigned Person",name:"assigned_person",type:"autocomplete",rules:"required",item_text:"fullname",item_value:"id",options:t.assigned_person.options,value:t.edit_data.assigned_person_info},on:{model:function(e){return t.model(e,"assigned_person")}}})],1),t._v(" "),e(d.a,{attrs:{cols:"12",lg:"4",sm:"12",xs:"12"}},[e("Input",{attrs:{valid:l,disabled:"Consumable"===t.form.type?"disabled":null,title:"Status",name:"status",type:"autocomplete",rules:"required",item_text:"name",item_value:"id",options:t.status.options,value:t.edit_data.item_status_info},on:{model:function(e){return t.model(e,"status")}}})],1),t._v(" "),e(d.a,{attrs:{cols:"12",lg:"4",md:"4",sm:"6",xs:"12"}},[e("Input",{attrs:{valid:l,disabled:"disabled",title:"Date Acquired",name:"date_acquired",type:"date",rules:"required",value:t.edit_data.date_acquired},on:{model:function(e){return t.model(e,"date_acquired")}}})],1),t._v(" "),e(d.a,{attrs:{cols:"12",lg:"4",md:"4",sm:"6",xs:"12"}},[e("Input",{attrs:{valid:l,disabled:"disabled",title:"Date Received",name:"date_received",type:"date",rules:"required",value:t.edit_data.date_received},on:{model:function(e){return t.model(e,"date_received")}}})],1),t._v(" "),e(d.a,{attrs:{cols:"12",lg:"6",sm:"12",xs:"12"}},[e("Input",{attrs:{valid:l,disabled:"disabled",title:"Cost",name:"cost",type:"number",rules:"required",value:t.edit_data.cost},on:{model:function(e){return t.model(e,"cost")}}})],1),t._v(" "),e(d.a,{attrs:{cols:"12",lg:"6",sm:"12",xs:"12"}},[e("Input",{attrs:{valid:l,disabled:"disabled",title:"Quantity",name:"quantity",type:"number",rules:"required",value:t.edit_data.quantity},on:{model:function(e){return t.model(e,"quantity")}}})],1),t._v(" "),t.computeCost>0?e(d.a,{attrs:{cols:"12"}},[e(r.a,{attrs:{type:"success"}},[t._v("\n                  "+t._s(t.$convertToCurrency(t.computeCost))+"\n                ")])],1):t._e()],1),t._v(" "),e(c.a,[e(y.a),t._v(" "),e(n.a,{attrs:{type:"submit",color:"primary",disabled:m}},[e(_.a,{staticClass:"mx-1"},[t._v(" mdi-content-save")]),t._v("\n                Save Property\n              ")],1)],1)],1)]}}])})],1)],1)],1)],1)}),[],!1,null,"0ec798f9",null);e.default=component.exports;installComponents(component,{Input:o(319).default,Form:o(221).default})},670:function(t,e,o){var content=o(671);content.__esModule&&(content=content.default),"string"==typeof content&&(content=[[t.i,content,""]]),content.locals&&(t.exports=content.locals);(0,o(17).default)("12a190a6",content,!0,{sourceMap:!1})},671:function(t,e,o){var r=o(16)(!1);r.push([t.i,".v-input--checkbox.v-input--indeterminate.v-input--is-disabled{opacity:.6}.v-input--checkbox.v-input--dense{margin-top:4px}",""]),t.exports=r},691:function(t,e,o){"use strict";o.r(e);o(9),o(8),o(10),o(13),o(11),o(14);var r=o(96),n=o(1),l=(o(4),o(67),o(670),o(415),o(38)),c=o(36),d=o(179),m=["title"];function _(object,t){var e=Object.keys(object);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(object);t&&(o=o.filter((function(t){return Object.getOwnPropertyDescriptor(object,t).enumerable}))),e.push.apply(e,o)}return e}function f(t){for(var i=1;i<arguments.length;i++){var source=null!=arguments[i]?arguments[i]:{};i%2?_(Object(source),!0).forEach((function(e){Object(n.a)(t,e,source[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(source)):_(Object(source)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(source,e))}))}return t}var y=d.a.extend({name:"v-checkbox",props:{indeterminate:Boolean,indeterminateIcon:{type:String,default:"$checkboxIndeterminate"},offIcon:{type:String,default:"$checkboxOff"},onIcon:{type:String,default:"$checkboxOn"}},data:function(){return{inputIndeterminate:this.indeterminate}},computed:{classes:function(){return f(f({},c.a.options.computed.classes.call(this)),{},{"v-input--selection-controls":!0,"v-input--checkbox":!0,"v-input--indeterminate":this.inputIndeterminate})},computedIcon:function(){return this.inputIndeterminate?this.indeterminateIcon:this.isActive?this.onIcon:this.offIcon},validationState:function(){if(!this.isDisabled||this.inputIndeterminate)return this.hasError&&this.shouldValidate?"error":this.hasSuccess?"success":null!==this.hasColor?this.computedColor:void 0}},watch:{indeterminate:function(t){var e=this;this.$nextTick((function(){return e.inputIndeterminate=t}))},inputIndeterminate:function(t){this.$emit("update:indeterminate",t)},isActive:function(){this.indeterminate&&(this.inputIndeterminate=!1)}},methods:{genCheckbox:function(){var t=this.attrs$,e=(t.title,Object(r.a)(t,m));return this.$createElement("div",{staticClass:"v-input--selection-controls__input"},[this.$createElement(l.a,this.setTextColor(this.validationState,{props:{dense:this.dense,dark:this.dark,light:this.light}}),this.computedIcon),this.genInput("checkbox",f(f({},e),{},{"aria-checked":this.inputIndeterminate?"mixed":this.isActive.toString()})),this.genRipple(this.setTextColor(this.rippleState))])},genDefaultSlot:function(){return[this.genCheckbox(),this.genLabel()]}}}),v=o(265),h=o(272),x=o(46),C=(o(65),o(154),o(27),o(42),o(646)),k=o(655),I=o(656),$=o(636),S=o(647);function w(object,t){var e=Object.keys(object);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(object);t&&(o=o.filter((function(t){return Object.getOwnPropertyDescriptor(object,t).enumerable}))),e.push.apply(e,o)}return e}function O(t){for(var i=1;i<arguments.length;i++){var source=null!=arguments[i]?arguments[i]:{};i%2?w(Object(source),!0).forEach((function(e){Object(n.a)(t,e,source[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(source)):w(Object(source)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(source,e))}))}return t}var P={components:{AddProperty:C.default,EditProperty:k.default,PropertyTemplate:I.default,DeleteProperty:$.default,StocksProperty:S.default},data:function(){return{group_by_description:!1,edit_data:null,property_template_data:null,delete_data:null,stocks_data:null,group_by:"",select:{name:"",text:""},items:[{name:"",text:""},{name:"property_name",text:"Property Name"},{name:"purchaser",text:"Purchaser"},{name:"property_code",text:"Property Code"},{name:"description",text:"Description"}],overlay:!1,add_property_dialog:!1,edit_property_dialog:!1,property_template_dialog:!1,delete_property_dialog:!1,stocks_property_dialog:!1,tab_name:["All Property","Consumable","Non-Consumable"],table_headers:[{text:"Property Name",align:"start",value:"property_name"},{text:"Description",value:"description"},{text:"Purchaser",value:"purchaser"},{text:"Property Number",value:"property_code"},{text:"Serial Number",value:"serial_number"},{text:"Cost",value:"cost"},{text:"Date Acquired",value:"date_acquired"},{text:"Date Received",value:"date_received"},{text:"QR Code",value:"qr"}],table_data:[[{tab_name:"All Property",data:[]}],[{tab_name:"Consumable",data:[]}],[{tab_name:"Non-Consumable",data:[]}]]}},computed:{table:function(){return this.table_data},consumable:function(){return this.$store.state.items.items.data.filter((function(t){return"Consumable"===t.type}))},nonConsumable:function(){return this.$store.state.items.items.data.filter((function(t){return"Non-Consumable"===t.type}))}},watch:{group_by_description:function(t){t?(this.table_headers=[{text:"Property Name",align:"start",value:"property_name"},{text:"Description",value:"description"},{text:"Purchaser",value:"purchaser"},{text:"Quantity",value:"quantity"},{text:"Cost",value:"cost"}],this.getItemList()):(this.table_headers=[{text:"Property Name",align:"start",value:"property_name"},{text:"Description",value:"description"},{text:"Purchaser",value:"purchaser"},{text:"Property Number",value:"property_code"},{text:"Serial Number",value:"serial_number"},{text:"Cost",value:"cost"},{text:"Date Acquired",value:"date_acquired"},{text:"Date Received",value:"date_received"},{text:"Actions",value:"actions"},{text:"Template",value:"template"},{text:"QR Code",value:"qr"}],this.getItem())}},methods:{propertyTemplateData:function(data){var t=O({},data),e={type:t.type,property_name:t.property_name,purchaser:t.purchaser,property_code:t.property_code,assigned_person_id:t.assigned_person_id,item_category_id:t.item_category_id,item_status_id:t.item_status_id,location_id:t.location_id,received_by_id:t.received_by_id,received_from_id:t.received_from_id,item_category_info:t.item_category_info,description:t.description,quantity:0,cost:0};this.property_template_data=e,this.property_template_dialog=!0},editData:function(data){var t=O({},data);this.edit_data=t,console.log(t),this.edit_property_dialog=!0},stocks:function(data){this.stocks_data=data,this.stocks_property_dialog=!0},confirmStocks:function(data){var t=this.getIndex(this.$store.state.items.items.data,data.data.id);this.table_data[0][0].data.splice(t,1,data.data),this.$store.commit("SET_ITEMS",this.table_data[0][0]),this.getItem(),this.$toast.success("Stocks updated successfully.")},deleteData:function(data){this.delete_data=data,this.delete_property_dialog=!0},confirmDelete:function(data){var t=this.getIndex(this.$store.state.items.items.data,data.id);this.table_data[0][0].data.splice(t,1),this.$store.commit("SET_ITEMS",this.table_data[0][0]),this.getItem()},selected:function(t){this.group_by=t.name},formSave:function(data,t){var e=this;this.$store.dispatch("postItem",data).then((function(o){if(e.$store.dispatch("getItems"),"add"===t)e.$toast.success("Add New Property "+data.type+" successfully!"),"Consumable"===data.type?e.table_data[1][0].data.push(data):"Non-Consumable"===data.type&&e.table_data[2][0].data.push(data),e.table_data[0][0].data.push(data),e.add_property_dialog=!1,e.property_template_dialog=!1;else if("edit"===t){e.$toast.success("Edit Property "+data.type+" successfully!");var r=e.getIndex(e.$store.state.items.items.data,o.data.id);e.table_data[0][0].data.splice(r,1,data),e.$store.commit("SET_ITEMS",e.table_data[0][0]),e.edit_property_dialog=!1,e.getItem(),e.$store.dispatch("getItemList")}}))},getItem:function(){this.overlay=!0,this.table_data[0][0].data=this.$store.state.items.items.data,this.table_data[1][0].data=this.consumable,this.table_data[2][0].data=this.nonConsumable,this.overlay=!1},getItemList:function(){this.overlay=!0,this.table_data[0][0].data=this.$store.state.item_list.item_list.data,this.table_data[1][0].data=this.consumable,this.table_data[2][0].data=this.nonConsumable,this.overlay=!1},getIndex:function(t,e){return t.map((function(t){return t.id})).indexOf(e)}},mounted:function(){var t=this;this.$store.dispatch("getItemList"),this.$store.dispatch("getItems").then((function(){t.getItem()}))}},D=o(47),component=Object(D.a)(P,(function(){var t=this,e=t._self._c;return e("div",[e(v.a,{attrs:{value:t.overlay}},[e(h.a,{attrs:{indeterminate:"",size:"64"}})],1),t._v(" "),e("Tab",{attrs:{tab_name:t.tab_name,table_data:t.table,table_headers:t.table_headers,group_by:t.group_by},on:{edit_data:t.editData,destroy_data:t.deleteData,stocks:t.stocks,template:t.propertyTemplateData},scopedSlots:t._u([{key:"add_dialog",fn:function(){return[e("div",{class:t.$vuetify.breakpoint.xs?"d-flex flex-column":"d-flex align-center"},[e(x.a,{style:t.$vuetify.breakpoint.xs?"max-width: 100%":"max-width: 7vw",attrs:{items:t.items,hint:"Filter by","item-text":"text","item-value":"name",label:"Select","persistent-hint":"","return-object":"","single-line":"","prepend-inner-icon":"mdi-filter"},on:{change:t.selected},model:{value:t.select,callback:function(e){t.select=e},expression:"select"}}),t._v(" "),e(y,{attrs:{label:"Group By Description"},model:{value:t.group_by_description,callback:function(e){t.group_by_description=e},expression:"group_by_description"}}),t._v(" "),!0===t.add_property_dialog?e("AddProperty",{attrs:{add_property_dialog:t.add_property_dialog},on:{form:t.formSave,closeModal:function(e){t.add_property_dialog=!1}}}):t._e(),t._v(" "),!0===t.edit_property_dialog?e("EditProperty",{attrs:{edit_property_dialog:t.edit_property_dialog,edit_data:t.edit_data},on:{form:t.formSave,closeModal:function(e){t.edit_property_dialog=!1}}}):t._e(),t._v(" "),!0===t.property_template_dialog?e("PropertyTemplate",{attrs:{property_template_dialog:t.property_template_dialog,property_template_data:t.property_template_data},on:{form:t.formSave,closeModal:function(e){t.property_template_dialog=!1}}}):t._e(),t._v(" "),!0===t.delete_property_dialog?e("DeleteProperty",{attrs:{dialog:t.delete_property_dialog,title:"Delete Property",end_point:"delete_item",delete_data:t.delete_data},on:{closeModal:function(e){t.delete_property_dialog=!1},confirmDelete:t.confirmDelete}}):t._e(),t._v(" "),!0===t.stocks_property_dialog?e("StocksProperty",{attrs:{dialog:t.stocks_property_dialog,title:"Stocks Property",end_point:"update_or_create_item",stocks_data:t.stocks_data},on:{closeModal:function(e){t.stocks_property_dialog=!1},confirmStocks:t.confirmStocks}}):t._e()],1)]},proxy:!0}])})],1)}),[],!1,null,"ed73b5a4",null);e.default=component.exports;installComponents(component,{Tab:o(648).default})}}]);